# Keycloak Migration Profile v3.0
# Example: Standalone deployment with local PostgreSQL

profile:
  name: standalone-postgresql
  environment: standalone

database:
  type: postgresql
  location: standalone
  host: localhost
  port: 5432
  name: keycloak
  user: keycloak
  credentials_source: env  # env | file | secret | vault

keycloak:
  deployment_mode: standalone
  distribution_mode: download  # download | predownloaded | container | helm
  cluster_mode: standalone  # standalone | infinispan | external | db_cluster

  current_version: 16.1.1
  target_version: 26.0.7

  # Paths for standalone mode
  home_dir: /opt/keycloak
  service_name: keycloak

migration:
  strategy: inplace  # inplace | rolling_update | blue_green
  parallel_jobs: 4
  timeout_per_version: 900
  run_smoke_tests: true
  backup_before_step: true
